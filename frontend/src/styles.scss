// ===========================
// CSS VARIABLES - CENTRALIZED THEMING
// ===========================

:root {
  // Brand Colors
  --color-primary: #3b82f6;
  --color-primary-dark: #2563eb;
  --color-primary-light: #60a5fa;
  --color-accent: #8b5cf6;
  --color-accent-dark: #7c3aed;
  --color-accent-light: #a78bfa;
  --color-success: #10b981;
  --color-warning: #f59e0b;
  --color-error: #ef4444;
  
  // Text Colors - Light Mode
  --color-text-primary: #111827;
  --color-text-secondary: #6b7280;
  --color-text-muted: #9ca3af;
  --color-text-inverse: #ffffff;
  
  // Background Colors - Light Mode
  --color-bg-page: #ffffff;
  --color-bg-card: #ffffff;
  --color-bg-section: #f3f4f6;
  --color-bg-light: #f9fafb;
  --color-bg-hover: #f3f4f6;
  --color-bg-code: #1e293b;
  
  // Border & Divider Colors - Light Mode
  --color-border: #e5e7eb;
  --color-divider: rgba(0, 0, 0, 0.1);
  
  // Shadow Colors - Light Mode
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
  --color-shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.15);
  
  // Glassmorphism
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(255, 255, 255, 0.18);
  --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
}

body.dark-mode {
  // Text Colors - Dark Mode
  --color-text-primary: #f9fafb;
  --color-text-secondary: #d1d5db;
  --color-text-muted: #9ca3af;
  --color-text-inverse: #111827;
  
  // Background Colors - Dark Mode
  --color-bg-page: #0a0a0a;
  --color-bg-card: #1a1a1a;
  --color-bg-section: #111111;
  --color-bg-light: #252525;
  --color-bg-hover: #2d2d2d;
  --color-bg-code: #0d1117;
  
  // Border & Divider Colors - Dark Mode
  --color-border: #2d2d2d;
  --color-divider: rgba(255, 255, 255, 0.1);
  
  // Shadow Colors - Dark Mode
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.5);
  --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
  --color-shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.6);
  
  // Glassmorphism - Dark Mode
  --glass-bg: rgba(26, 32, 44, 0.7);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

// ===========================
// GLOBAL BASE STYLES
// ===========================

html, body { 
  height: 100%; 
}

body {
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  background-color: var(--color-bg-page);
  color: var(--color-text-primary);
  transition: background-color 0.2s ease, color 0.2s ease;
}

// ===========================
// LAYOUT (App-wide)
// ===========================

app-feed {
  display: block;
  width: 100%;
  max-width: 100%;
  
  .main-content {
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
  }
}

.main-content {
  max-width: 900px;
  margin: 20px auto;
  padding: 0 15px;
}

.form-container {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 40px 15px;

  mat-card {
    width: 100%;
    max-width: 400px;
  }

  mat-form-field, button {
    width: 100%;
  }
}

.post-card {
  margin-bottom: 20px;
}

.header-container {
  border-bottom: 1px solid var(--color-divider);
}

// ===========================
// MATERIAL COMPONENTS DARK MODE
// ===========================

body.dark-mode {
  // Menus
  .mat-mdc-menu-panel {
    background: var(--color-bg-card) !important;
  }

  .mat-mdc-menu-item {
    color: var(--color-text-primary) !important;

    .mdc-list-item__primary-text,
    .mat-mdc-menu-item-text {
      color: var(--color-text-primary) !important;
    }

    .mat-icon,
    mat-icon {
      color: var(--color-text-muted) !important;
    }

    span {
      color: var(--color-text-primary) !important;
    }

    &:hover {
      background: var(--color-bg-hover) !important;
    }
  }

  .mat-mdc-menu-content .mat-divider {
    border-top-color: var(--color-border) !important;
  }

  // Form Fields - GLOBAL DARK MODE STYLING
  .mat-mdc-form-field {
    .mat-mdc-text-field-wrapper {
      background-color: var(--color-bg-card) !important;
    }
    
    .mdc-text-field__input {
      color: var(--color-text-primary) !important;
      caret-color: var(--color-primary-light) !important;
    }
    
    .mdc-text-field__input::placeholder {
      color: var(--color-text-muted) !important;
      opacity: 0.8 !important;
    }
    
    .mat-mdc-form-field-label,
    .mdc-floating-label {
      color: #e5e7eb !important;
      opacity: 1 !important;
    }
    
    .mdc-notched-outline {
      opacity: 1 !important;
      
      .mdc-notched-outline__leading,
      .mdc-notched-outline__notch,
      .mdc-notched-outline__trailing {
        border-color: #9ca3af !important;
        border-width: 2px !important;
        opacity: 1 !important;
      }
    }
    
    &.mat-focused,
    &.mat-form-field-should-float {
      .mdc-notched-outline__leading,
      .mdc-notched-outline__notch,
      .mdc-notched-outline__trailing {
        border-color: var(--color-primary-light) !important;
        border-width: 3px !important;
      }
      
      .mat-mdc-form-field-label,
      .mdc-floating-label {
        color: var(--color-primary-light) !important;
      }
    }
    
    .mat-mdc-form-field-hint {
      color: var(--color-text-muted) !important;
    }
    
    .mat-mdc-form-field-error {
      color: var(--color-error) !important;
    }
  }

  // List Items
  .mat-mdc-list-item {
    color: var(--color-text-primary) !important;
    
    .mdc-list-item__primary-text,
    [matListItemTitle] {
      color: var(--color-text-primary) !important;
      
      a {
        color: var(--color-text-primary) !important;
        
        &:hover {
          color: var(--color-primary-light) !important;
        }
      }
    }
    
    .mdc-list-item__secondary-text,
    [matListItemLine] {
      color: var(--color-text-secondary) !important;
      
      span {
        color: var(--color-text-secondary) !important;
      }
    }
    
    [matListItemMeta] {
      color: var(--color-text-muted) !important;
    }
  }
}
