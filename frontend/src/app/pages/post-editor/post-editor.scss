// General layout styles for the component
.post-editor-card {
  width: 100%;
  box-shadow: none;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
}

.form-container {
  max-width: 1024px;
  margin: 0 auto;
  padding: 20px;
}

.title-field {
  width: 100%;
  margin-bottom: 8px;
  
  ::ng-deep {
    .mat-mdc-text-field-wrapper {
      background-color: transparent;
    }
    
    .mat-mdc-form-field-infix {
      input {
        font-size: 3rem;
        font-weight: 700;
        line-height: 1.2;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        color: #0a0a0a;
        
        &::placeholder {
          color: #a3a3a3;
          font-weight: 700;
        }
      }
    }
    
    .mat-mdc-form-field-focus-overlay {
      background-color: transparent;
    }
    
    .mdc-notched-outline {
      border: none !important;
    }
  }
}

// Use ::ng-deep to style the child Quill component
::ng-deep {
  .quill-editor-container {
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    background: #ffffff;
    overflow: hidden;
    
    // Toolbar styling - DEV.to minimal style
    .ql-toolbar.ql-snow {
      border: none;
      border-bottom: 1px solid #e5e7eb;
      background: #fafafa;
      padding: 12px 16px;
      
      .ql-formats {
        margin-right: 12px;
        
        button {
          width: 32px;
          height: 32px;
          padding: 4px;
          
          &:hover {
            background-color: #e5e7eb;
            border-radius: 6px;
          }
          
          &.ql-active {
            background-color: #3b49df;
            border-radius: 6px;
            
            .ql-stroke {
              stroke: white;
            }
            
            .ql-fill {
              fill: white;
            }
          }
        }
        
        .ql-picker {
          &:hover .ql-picker-label {
            color: #3b49df;
          }
        }
      }
    }
    
    // Main editor area styling - DEV.to content style
    .ql-container.ql-snow {
      border: none;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      
      .ql-editor {
        min-height: 500px;
        padding: 32px 64px;
        font-size: 1.125rem;
        line-height: 1.75;
        color: #171717;
        
        &.ql-blank::before {
          color: #a3a3a3;
          font-style: normal;
          font-size: 1.125rem;
        }
        
        // Typography - DEV.to style
        p {
          margin-bottom: 1.5rem;
          line-height: 1.75;
        }
        
        h1, h2, h3 {
          font-weight: 700;
          margin-top: 2rem;
          margin-bottom: 1rem;
          line-height: 1.3;
          color: #0a0a0a;
        }
        
        h1 {
          font-size: 2.25rem;
        }
        
        h2 {
          font-size: 1.875rem;
        }
        
        h3 {
          font-size: 1.5rem;
        }
        
        // Lists
        ul, ol {
          padding-left: 2rem;
          margin-bottom: 1.5rem;
          
          li {
            margin-bottom: 0.5rem;
            line-height: 1.75;
          }
        }
        
        // Blockquotes - DEV.to style
        blockquote {
          border-left: 4px solid #3b49df;
          padding-left: 1.5rem;
          margin: 1.5rem 0;
          font-style: italic;
          color: #525252;
          background: #f9fafb;
          padding: 1rem 1.5rem;
          border-radius: 0 6px 6px 0;
        }
        
        // Code blocks - DEV.to style
        pre {
          background: #1e1e1e;
          color: #d4d4d4;
          padding: 1.5rem;
          border-radius: 8px;
          margin: 1.5rem 0;
          overflow-x: auto;
          font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
          font-size: 0.9rem;
          line-height: 1.6;
        }
        
        // Inline code
        code {
          background: #f3f4f6;
          color: #dc2626;
          padding: 0.2rem 0.4rem;
          border-radius: 4px;
          font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;
          font-size: 0.9em;
        }
        
        pre code {
          background: transparent;
          color: inherit;
          padding: 0;
        }
        
        // Links - DEV.to style
        a {
          color: #3b49df;
          text-decoration: none;
          border-bottom: 1px solid transparent;
          transition: border-color 0.2s;
          
          &:hover {
            border-bottom-color: #3b49df;
          }
        }
        
        // Images - DEV.to style
        img {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 2rem auto;
          border-radius: 8px;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        // Videos - DEV.to style
        video {
          max-width: 100%;
          height: auto;
          display: block;
          margin: 2rem auto;
          border-radius: 8px;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        // Strong/Bold
        strong {
          font-weight: 700;
          color: #0a0a0a;
        }
        
        // Emphasis/Italic
        em {
          font-style: italic;
        }
        
        // Strike through
        s {
          text-decoration: line-through;
          color: #737373;
        }
        
        // Underline
        u {
          text-decoration: underline;
        }
      }
    }
  }
}

// Make sure blob URLs work
::ng-deep .ql-editor img[src^="blob:"],
::ng-deep .ql-editor video[src^="blob:"] {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

// Form actions - DEV.to style
.form-actions {
  display: flex;
  justify-content: flex-start;
  gap: 12px;
  margin-top: 24px;
  padding: 20px 0;
  
  button {
    font-weight: 600;
    text-transform: none;
    font-size: 1rem;
    padding: 0.625rem 1rem;
    border-radius: 8px;
    
    &[color="primary"] {
      background-color: #3b49df;
      
      &:hover:not(:disabled) {
        background-color: #2d3bcc;
      }
    }
  }
}

// Dark Mode Styles - DEV.to dark theme
.dark-mode {
  .post-editor-card {
    background: #1a1a1a;
    border-color: #2d2d2d;
  }
  
  .title-field ::ng-deep {
    .mat-mdc-form-field-infix input {
      color: #f5f5f5;
      
      &::placeholder {
        color: #737373;
      }
    }
  }
  
  ::ng-deep {
    .quill-editor-container {
      background: #1a1a1a;
      border-color: #2d2d2d;
      
      .ql-toolbar.ql-snow {
        background: #0f0f0f;
        border-color: #2d2d2d;
        
        .ql-stroke {
          stroke: #d4d4d4;
        }
        
        .ql-fill {
          fill: #d4d4d4;
        }
        
        .ql-picker-label {
          color: #d4d4d4;
        }
        
        button {
          &:hover {
            background-color: #2d2d2d;
          }
          
          &.ql-active {
            background-color: #3b49df;
            
            .ql-stroke {
              stroke: white;
            }
            
            .ql-fill {
              fill: white;
            }
          }
        }
      }
      
      .ql-container.ql-snow {
        .ql-editor {
          color: #e5e5e5;
          
          &.ql-blank::before {
            color: #737373;
          }
          
          h1, h2, h3, strong {
            color: #f5f5f5;
          }
          
          blockquote {
            background: #262626;
            color: #a3a3a3;
            border-left-color: #3b49df;
          }
          
          pre {
            background: #0f0f0f;
            color: #d4d4d4;
          }
          
          code {
            background: #262626;
            color: #fca5a5;
          }
          
          a {
            color: #60a5fa;
            
            &:hover {
              border-bottom-color: #60a5fa;
            }
          }
          
          s {
            color: #a3a3a3;
          }
        }
      }
    }
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .form-container {
    padding: 16px;
  }
  
  .title-field ::ng-deep {
    .mat-mdc-form-field-infix input {
      font-size: 2rem;
    }
  }
  
  ::ng-deep {
    .quill-editor-container {
      .ql-toolbar.ql-snow {
        padding: 8px 12px;
      }
      
      .ql-container.ql-snow .ql-editor {
        padding: 24px 20px;
        font-size: 1rem;
        min-height: 400px;
        
        h1 {
          font-size: 1.875rem;
        }
        
        h2 {
          font-size: 1.5rem;
        }
        
        h3 {
          font-size: 1.25rem;
        }
      }
    }
  }
}